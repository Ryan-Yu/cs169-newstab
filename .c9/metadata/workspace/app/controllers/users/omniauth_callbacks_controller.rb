{"filter":false,"title":"omniauth_callbacks_controller.rb","tooltip":"/app/controllers/users/omniauth_callbacks_controller.rb","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":3},"action":"insert","lines":["class Users::OmniauthCallbacksController < Devise::OmniauthCallbacksController","  def facebook","    # You need to implement the method below in your model (e.g. app/models/user.rb)","    @user = User.from_omniauth(request.env[\"omniauth.auth\"])","","    if @user.persisted?","      sign_in_and_redirect @user, :event => :authentication #this will throw if @user is not activated","      set_flash_message(:notice, :success, :kind => \"Facebook\") if is_navigational_format?","    else","      session[\"devise.facebook_data\"] = request.env[\"omniauth.auth\"]","      redirect_to new_user_registration_url","    end","  end","end"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":3},"end":{"row":13,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1424976373669,"hash":"9c268109c9c895a48a985bd2ccb196c6b2c737bc"}